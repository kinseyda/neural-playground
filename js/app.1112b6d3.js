(function(){"use strict";var t={8151:function(t,e,n){var i=n(9242),s=n(3396);const u={id:"app-outer"},r=(0,s._)("h1",null,"Neural Playground - Logic gates",-1);function a(t,e,n,i,a,o){const l=(0,s.up)("gate-display");return(0,s.wg)(),(0,s.iD)("div",u,[r,(0,s.Wm)(l)])}var o=n(7139);const l=t=>((0,s.dD)("data-v-0dd2982d"),t=t(),(0,s.Cn)(),t),d={id:"outer"},c={id:"io-setup-col"},p={id:"net-setup"},h=l((()=>(0,s._)("h2",null,"Network setup",-1))),g=["disabled"],m={id:"interact"},f=l((()=>(0,s._)("h2",null,"Input/Output Testing",-1))),b=l((()=>(0,s._)("h3",null,"Interact",-1))),z={id:"t-t-outer"},w=l((()=>(0,s._)("h3",null,"Truth Table",-1))),v={id:"viz-col"},_=l((()=>(0,s._)("h2",null,"View",-1))),D={id:"net-viz"},y={id:"train-col"},x=l((()=>(0,s._)("h2",null,"Train",-1))),k=(0,s.Uk)(" Preset data: "),T=["disabled"],S=["selected"],L=["value","disabled","selected"],O={id:"data"},N={id:"train-button-cont"},C=(0,s.Uk)(" Epochs: "),M=["disabled"],V=["disabled"],I=["disabled"];function A(t,e,n,u,r,a){const l=(0,s.up)("size-selector"),A=(0,s.up)("gate-i-o"),$=(0,s.up)("test-truth-table"),F=(0,s.up)("net-visualizer"),H=(0,s.up)("gate-train-data"),Z=(0,s.up)("progress-bar");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",c,[(0,s._)("div",p,[h,(0,s.Wm)(l,{modelValue:t.netSizes,"onUpdate:modelValue":e[0]||(e[0]=e=>t.netSizes=e),locked:{inputMax:8,hiddenMax:16,outputMax:8,layersMax:6},currentlyTraining:t.currentlyTraining},null,8,["modelValue","currentlyTraining"]),(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.newNet()),disabled:t.currentlyTraining}," Reset network ",8,g)]),(0,s._)("div",m,[f,b,(0,s.Wm)(A,{inputs:t.inputs,"onUpdate:inputs":e[2]||(e[2]=e=>t.inputs=e),outputs:t.mostRecentResult},null,8,["inputs","outputs"])]),(0,s._)("div",z,[w,(0,s._)("div",null,[(0,s.Wm)($,{net:t.net,trainData:t.trainData},null,8,["net","trainData"])])])]),(0,s._)("div",v,[_,(0,s._)("div",D,[(0,s.Wm)(F,{ref:"netViz",net:t.net},null,8,["net"])])]),(0,s._)("div",y,[x,(0,s._)("div",null,[k,(0,s._)("select",{onChange:e[3]||(e[3]=(...e)=>t.newPreset&&t.newPreset(...e)),disabled:t.currentlyTraining},[(0,s._)("option",{value:"-1",selected:-1==t.curPreset},null,8,S),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.examples,((e,n)=>((0,s.wg)(),(0,s.iD)("option",{key:n,value:n,disabled:!(e.inputSize==t.net.sizes[0]&&e.outputSize==t.net.sizes[t.net.sizes.length-1]),selected:n==t.curPreset},(0,o.zw)(e.name)+" "+(0,o.zw)(e.inputSize)+"/"+(0,o.zw)(e.outputSize),9,L)))),128))],40,T)]),(0,s._)("div",O,[(0,s.Wm)(H,{ref:"gateTrainData",modelValue:t.trainData,"onUpdate:modelValue":e[4]||(e[4]=e=>t.trainData=e),inputSize:t.net.sizes[0],outputSize:t.net.sizes[t.net.sizes.length-1],currentlyTraining:t.currentlyTraining},null,8,["modelValue","inputSize","outputSize","currentlyTraining"])]),(0,s._)("div",N,[(0,s.Wm)(Z,{numerator:t.progressNum,denominator:t.progressDenom,currentlyTraining:t.currentlyTraining},null,8,["numerator","denominator","currentlyTraining"]),(0,s._)("div",null,[C,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.epochs=e),min:"1",type:"number",disabled:t.currentlyTraining},null,8,M),[[i.nr,t.epochs]]),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.currentlyTraining=!1),disabled:!t.currentlyTraining}," Cancel ",8,V)]),(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.trainWithData(t.epochs)),id:"train-button",disabled:t.currentlyTraining}," Train on data "+(0,o.zw)(t.epochs)+" time"+(0,o.zw)(t.epochs>1?"s":""),9,I)])])])}function $(t){return t.indexOf(Math.max(...t))}function F(t,e){const n=[];let i=t;for(let s=0;s<e;s++){const t=2**(e-1-s);i-t>=0?(n.push(1),i-=t):n.push(0)}return n.join("")}function H(t){return parseInt(t,2)}function Z(t,e){return Array.from(F(t,e)).map((t=>parseInt(t)))}function E(t){return H(t.join(""))}var P=n(2482);n(1703);async function K(t,e,n,i,s){if(t<0)throw new RangeError(`Long-For-Loop length of ${t} not valid!`);return new Promise(0==t?t=>{t(n["returnValue"])}:u=>{let r=0,a=Date.now();function o(){i(r,n),r++,r<t&&1!=n["break"]?Date.now()-a>e?(setTimeout(o,0),a=Date.now()):o():(s&&s(n),u(n["returnValue"]))}o()})}function Y(t){return 1/(1+Math.E**(-1*t))}function R(t){return Y(t)*(1-Y(t))}function U(t){return Y(t)}function W(t){return R(t)}function B(t,e){let n=0,i=t.length;for(;i>7;i-=8)n+=t[i-1]*e[i-1]+t[i-2]*e[i-2]+t[i-3]*e[i-3]+t[i-4]*e[i-4]+t[i-5]*e[i-5]+t[i-6]*e[i-6]+t[i-7]*e[i-7]+t[i-8]*e[i-8];while(i--)n+=t[i]*e[i];return n}function j(t,e){const n=e.weights,i=e.biases,s=e.sizes,u=[],r=[];for(let a=0;a<s.length;a++){u[a]=[],r[a]=[];for(let e=0;e<s[a];e++)0==a?u[a][e]=t[e]:(r[a][e]=B(n[a][e],u[a-1])+i[a][e],u[a][e]=U(r[a][e]))}return{activations:u,zs:r}}function q(t,e,n,i,s){const u=n.weights,r=n.sizes;if(void 0===i||void 0===s||0==i.length||0==s.length){i=[],s=[];for(let t=0;t<r.length;t++){i[t]=[],s[t]=[];for(let e=0;e<r[t];e++){i[t][e]=[];for(let n=0;n<r[t-1];n++)i[t][e][n]=0;s[t][e]=0}}}const a=j(t,n),o=a["activations"],l=a["zs"],d=[],c=function(t,e,n){let i=0,s=e.length;for(;s>7;s-=8)i+=t[s-1][n]*e[s-1]+t[s-2][n]*e[s-2]+t[s-3][n]*e[s-3]+t[s-4][n]*e[s-4]+t[s-5][n]*e[s-5]+t[s-6][n]*e[s-6]+t[s-7][n]*e[s-7]+t[s-8][n]*e[s-8];while(s--)i+=t[s][n]*e[s];return i};for(let p=r.length-1;p>0;p--){if(d[p]=[],p==r.length-1)for(let t=0;t<r[p];t++){const n=o[p][t]-e[t];d[p][t]=n*W(l[p][t])}else for(let t=0;t<r[p];t++){const e=c(u[p+1],d[p+1],t);d[p][t]=e*W(l[p][t])}for(let t=0;t<r[p];t++){s[p][t]-=d[p][t];for(let e=0;e<u[p][t].length;e++){const n=o[p-1][e];i[p][t][e]-=d[p][t]*n}}}return{weightDeltas:i,biasDeltas:s}}function G(t,e){return new Promise((n=>{let i=[],s=[];K(t.length,50,{weightDeltas:i,biasDeltas:s,batch:t,net:e},(n=>{const u=t[n],r=q(u.inputs,u.expectedOutputs,e,i,s);i=r["weightDeltas"],s=r["biasDeltas"]}),(()=>{e.updateNeurons(i,s,1/t.length),n()}))}))}class J{constructor(t,e){(0,P.Z)(this,"weights",void 0),(0,P.Z)(this,"biases",void 0),(0,P.Z)(this,"sizes",void 0),(0,P.Z)(this,"learningRate",void 0),this.sizes=t,this.weights=[[[]]],this.biases=[[]];for(let n=0;n<t.length;n++){const e=0==n?0:t[n-1],i=[],s=[];for(let u=0;u<t[n];u++){const t=[];for(let n=0;n<e;n++)t[n]=2*Math.random()-1;const r=0==n?0:2*Math.random()-1;i[u]=t,s[u]=r}this.weights[n]=i,this.biases[n]=s}this.learningRate=e}updateNeurons(t,e,n){for(let i=0;i<this.sizes.length;i++)for(let s=0;s<this.sizes[i];s++){this.biases[i][s]+=e[i][s]*n*this.learningRate;for(let e=0;e<this.weights[i][s].length;e++)this.weights[i][s][e]+=t[i][s][e]*n*this.learningRate}}feed(t){return j(t,this)}backProp(t,e,n,i){return q(t,e,this,n,i)}}class X extends J{constructor(t,e){super(t||[2,2,1],e||1)}}const Q=t=>((0,s.dD)("data-v-6c4da5f6"),t=t(),(0,s.Cn)(),t),tt={key:0,id:"table-cont"},et={id:"input-col"},nt=["span"],it=["colspan"],st=Q((()=>(0,s._)("small",null,"Inputs",-1))),ut=[st],rt={class:"input-index"},at={id:"use-col"},ot=Q((()=>(0,s._)("colgroup",null,[(0,s._)("col")],-1))),lt=Q((()=>(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("small",null,"Enable")])],-1))),dt=["disabled","onClick"],ct=["disabled"],pt={id:"output-col"},ht=["colspan"],gt=Q((()=>(0,s._)("small",null,"Outputs",-1))),mt=[gt],ft=["disabled","onClick"],bt={class:"output-value"},zt=["disabled","onUpdate:modelValue","max"];function wt(t,e,n,u,r,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.tDEnabled=!t.tDEnabled)},(0,o.zw)(t.tDEnabled?"Hide":"Show")+" table ",1),t.tDEnabled?((0,s.wg)(),(0,s.iD)("div",tt,[(0,s._)("div",et,[(0,s._)("table",null,[(0,s._)("colgroup",null,[(0,s._)("col",{span:t.inputSize+1},null,8,nt)]),(0,s._)("tr",null,[(0,s._)("td",{colspan:t.inputSize+1},ut,8,it)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(2**t.inputSize,((e,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:"data-row"},[(0,s._)("td",rt,(0,o.zw)(n),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.numToBinList(n,t.inputSize),(t=>((0,s.wg)(),(0,s.iD)("td",{key:t,class:"input-digit"},[(0,s._)("span",null,(0,o.zw)(t),1)])))),128))])))),128))])]),(0,s._)("div",at,[(0,s._)("table",null,[ot,lt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(2**t.inputSize,((e,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:"data-row"},[(0,s._)("td",null,[(0,s._)("button",{disabled:t.currentlyTraining,onClick:e=>t.curList[n]=-1==t.curList[n]?0:-1},(0,o.zw)(-1!=t.curList[n]),9,dt)])])))),128)),(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("button",{onClick:e[1]||(e[1]=(...e)=>t.toggleAll&&t.toggleAll(...e)),disabled:t.currentlyTraining}," All ",8,ct)])])])]),(0,s._)("div",pt,[(0,s._)("table",null,[(0,s._)("colgroup",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.outputSize+1,(t=>((0,s.wg)(),(0,s.iD)("col",{key:t,class:"outlined"})))),128))]),(0,s._)("tr",null,[(0,s._)("td",{colspan:t.outputSize+1},mt,8,ht)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(2**t.inputSize,((e,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:"data-row"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.outputSize,((e,i)=>((0,s.wg)(),(0,s.iD)("td",{key:i,class:"output-digit"},[-1!=t.curList[n]?((0,s.wg)(),(0,s.iD)("button",{key:0,disabled:t.currentlyTraining,onClick:e=>t.toggleDatum(n,i),class:(0,o.C_)({"button-one":1==t.numToBinList(t.curList[n],t.outputSize)[i],"button-zero":0==t.numToBinList(t.curList[n],t.outputSize)[i]})},(0,o.zw)(t.numToBinList(t.curList[n],t.outputSize)[i]),11,ft)):(0,s.kq)("",!0)])))),128)),(0,s._)("td",bt,[-1!=t.curList[n]?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,disabled:t.currentlyTraining,"onUpdate:modelValue":e=>t.curList[n]=e,type:"number",max:2**t.outputSize-1,min:"0"},null,8,zt)),[[i.nr,t.curList[n]]]):(0,s.kq)("",!0)])])))),128))])])])):(0,s.kq)("",!0)])}n(6699);var vt=(0,s.aZ)({name:"GateTrainData",props:["modelValue","inputSize","outputSize","currentlyTraining"],data(){return{curList:[],tDEnabled:!0}},emits:["update:modelValue"],watch:{curList:{deep:!0,handler(){this.emitNewTEList()}},inputSize:{handler(){this.setCurList(this.modelValue)}},outputSize:{handler(){this.setCurList(this.modelValue)}}},methods:{emitNewTEList(){const t=[];for(let e=0;e<this.curList.length;e++)-1!=this.curList[e]&&t.push({inputs:Z(e,this.inputSize),expectedOutputs:Z(this.curList[e],this.outputSize)});this.$emit("update:modelValue",t)},numToBinList(t,e){return Z(t,e)},setCurList(t){const e=new Array(2**this.inputSize).fill(-1);for(const n of t){const t=E(n.inputs),i=E(n.expectedOutputs)<2**this.outputSize?E(n.expectedOutputs):2**this.outputSize-1;e[t]=i}this.curList=e.slice(0,256)},toggleDatum(t,e){const n=Z(this.curList[t],this.outputSize);n[e]^=1,this.curList[t]=E(n)},toggleAll(){this.curList.includes(-1)?this.curList=this.curList.map((t=>-1==t?0:t)):this.curList=new Array(2**this.inputSize).fill(-1)}},mounted(){this.setCurList(this.modelValue)}}),_t=n(89);const Dt=(0,_t.Z)(vt,[["render",wt],["__scopeId","data-v-6c4da5f6"]]);var yt=Dt;const xt=t=>((0,s.dD)("data-v-8bd5e25c"),t=t(),(0,s.Cn)(),t),kt={id:"viz-outer"},Tt={id:"net-container"},St={key:0,id:"paused-indicator"},Lt=xt((()=>(0,s._)("div",{id:"net"},null,-1))),Ot={id:"viz-buttons"};function Nt(t,e,n,i,u,r){return(0,s.wg)(),(0,s.iD)("div",kt,[(0,s._)("div",Tt,[t.visActive?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",St,"Visualization Paused!")),Lt]),(0,s._)("div",Ot,[(0,s._)("button",{onClick:e[0]||(e[0]=(...e)=>t.fitNet&&t.fitNet(...e)),id:"zoom-fit"},"Zoom to fit network"),(0,s._)("button",{onClick:e[1]||(e[1]=(...e)=>t.toggleVisualization&&t.toggleVisualization(...e)),id:"toggle-vis"},(0,o.zw)(t.visActive?"Disable":"Enable")+" visualization updates ",1)])])}function Ct(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Mt(t){const e=t.toString(16);return 1==e.length?"0"+e:e}function Vt(t,e,n){return"#"+Mt(t)+Mt(e)+Mt(n)}function It(t,e){switch(t){case"green red":return $t("#15b115","#ffa500","#ff0000",e);case"blue orange":return $t("#4444f9","#ffff00","#ffa500",e);case"mono":return $t("#ffffff","#808080","#000000",e)}return"#000000"}function At(t,e,n){const i=Ct(t)||{r:0,g:0,b:0},s=Ct(e)||{r:255,g:255,b:255};return Vt(Math.floor(i.r+(s.r-i.r)*n),Math.floor(i.g+(s.g-i.g)*n),Math.floor(i.b+(s.b-i.b)*n))}function $t(t,e,n,i){return i<=.5?At(t,e,2*i):At(e,n,2*(i-.5))}var Ft=n(9836),Ht=n(3767);function Zt(t,e,n){let i=0;for(let s=0;s<e;s++)i+=t[s];return i+n}function Et(t,e,n,i){let s=0;for(let u=1;u<e;u++)s+=t[u]*t[u-1];return s+n*t[e-1]+i}function Pt(t,e,n){let i="";for(let s=0;s<t.sizes[e-1];s++)i=`${i}a<sub>${s}</sub> × ${t.weights[e][n][s].toFixed(4)} + </br>`;return i=`${i}${t.biases[e][n]<0?"-":"+"} ${Math.abs(t.biases[e][n]).toFixed(4)}</br>`,i}function Kt(t){const e=document.createElement("div");return e.innerHTML=t,e}function Yt(t,e,n,i){return It("green red",Y(-1*t.weights[e][n][i]))}function Rt(t,e,n,i){return`L${e}, N${n}, W${i} (CID ${Et(t.sizes,e,n,i)})\nWeight: ${t.weights[e][n][i].toFixed(4)}`}function Ut(t,e,n){return 0==e?"#FFFFFF":It("green red",Y(-1*t.biases[e][n]))}function Wt(t,e,n){return Kt(`L${e}, N${n} (NID ${Zt(t.sizes,e,n)})</br>${0==e?"Input Layer":e==t.sizes.length-1?"Output Layer":"Hidden layer"}</br>${0!=e?`Bias: ${t.biases[e][n].toFixed(4)}</br>Activation equation:</br>${Pt(t,e,n)}`:""}`)}function Bt(t){const e=new Ht.DataSet,n=new Ht.DataSet,i=Math.max(...t.sizes),s=i/t.sizes.length*1.5;for(let u=0;u<t.sizes.length;u++){const r=t.sizes[u];for(let a=0;a<r;a++){const o=Ut(t,u,a),l=r==i?0:(i-r)/2;if(e.add({id:Zt(t.sizes,u,a),color:{background:o,hover:{background:o},highlight:{background:o}},opacity:1,x:100*u*s,y:100*(a+l),title:Wt(t,u,a)}),u>0)for(let e=0;e<t.sizes[u-1];e++)n.add({id:Et(t.sizes,u,a,e),from:Zt(t.sizes,u,a),to:Zt(t.sizes,u-1,e),color:Yt(t,u,a,e),title:Rt(t,u,a,e),hidden:!1})}}return{nodes:e,edges:n}}let jt=null,qt=null,Gt=null;var Jt=(0,s.aZ)({name:"NetVisualizer",props:["net"],components:{},data(){return{visActive:!0}},methods:{toggleVisualization(){this.visActive=!this.visActive,this.visActive&&this.updateNetVals()},newNet(t){qt&&jt&&(Gt=Bt(t),jt.setData(Gt))},updateNetVals(t){if(!Gt||!this.visActive)return;const e=t||this.net,n=[],i=[];for(let s=0;s<e.sizes.length;s++){const t=e.sizes[s];for(let u=0;u<t;u++){const t=Ut(e,s,u);if(n.push({id:Zt(e.sizes,s,u),color:{background:t,hover:{background:t},highlight:{background:t}},title:Wt(e,s,u)}),s>0)for(let n=0;n<e.sizes[s-1];n++)i.push({id:Et(e.sizes,s,u,n),color:Yt(e,s,u,n),title:Rt(e,s,u,n)})}}Gt.nodes.update(n),Gt.edges.update(i)},fitNet(){jt&&jt.fit()}},mounted(){if(qt=document.getElementById("net"),qt){var t={interaction:{dragNodes:!1,hover:!0,selectable:!0,tooltipDelay:0},nodes:{shape:"circle",color:{border:"black",hover:{border:"black"},highlight:{border:"black"}}},edges:{width:3,hoverWidth:5,selectionWidth:5},physics:{enabled:!1}};jt=new Ft.Zc(qt,{},t),jt.on("selectNode",(function(t){if(!jt||!Gt)return;const e=jt.getConnectedNodes(t.nodes[0]);e.push(t.nodes[0]);const n=jt.getConnectedEdges(t.nodes[0]),i=Gt.nodes.getIds({filter:t=>!e.includes(t.id)}),s=Gt.edges.getIds({filter:t=>!n.includes(t.id)});Gt.nodes.update(i.map((t=>({id:t,opacity:.5})))),Gt.edges.update(s.map((t=>({id:t,hidden:!0}))))})),jt.on("deselectNode",(function(){if(!Gt)return;const t=Gt.nodes.getIds(),e=Gt.edges.getIds();Gt.nodes.update(t.map((t=>({id:t,opacity:1})))),Gt.edges.update(e.map((t=>({id:t,hidden:!1}))))}))}}});const Xt=(0,_t.Z)(Jt,[["render",Nt],["__scopeId","data-v-8bd5e25c"]]);var Qt=Xt;const te=t=>((0,s.dD)("data-v-2880ccdb"),t=t(),(0,s.Cn)(),t),ee=te((()=>(0,s._)("col",{class:"outlined"},null,-1))),ne=["onClick","disabled"],ie={rowspan:"3"},se=["disabled"],ue=["onClick","disabled"],re=["onClick","disabled"];function ae(t,e,n,i,u,r){return(0,s.wg)(),(0,s.iD)("table",null,[(0,s._)("colgroup",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.modelValue,((t,e)=>((0,s.wg)(),(0,s.iD)("col",{key:e,class:"outlined"})))),128)),ee]),(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.modelValue,((e,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n},[(0,s._)("button",{onClick:e=>t.increment(n),disabled:t.currentlyTraining}," ▲ ",8,ne)])))),128)),(0,s._)("td",ie,[(0,s._)("button",{id:"add-button",onClick:e[0]||(e[0]=e=>t.add()),disabled:t.currentlyTraining}," + ",8,se)])]),(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.modelValue,((t,e)=>((0,s.wg)(),(0,s.iD)("td",{key:e},(0,o.zw)(t),1)))),128))]),(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.modelValue,((e,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n},[(0,s._)("button",{onClick:e=>t.decrement(n),disabled:t.currentlyTraining}," ▼ ",8,ue)])))),128))]),(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.modelValue,((e,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n},[(0,s._)("button",{onClick:e=>t.remove(n),disabled:t.currentlyTraining},"-",8,re)])))),128))])])}var oe=(0,s.aZ)({name:"SizeSelector",props:["modelValue","locked","currentlyTraining"],data(){return{curList:this.modelValue}},emits:["update:modelValue"],watch:{curList:{deep:!0,handler(){this.emitNewList()}}},methods:{emitNewList(){this.$emit("update:modelValue",this.curList)},increment(t){this.curList[t]+=1,this.checkSizes()},decrement(t){this.curList[t]-=1,this.checkSizes()},remove(t){this.curList.length>2&&this.curList.splice(t,1),this.checkSizes()},add(){this.curList.length<(this.locked.layersMax||1/0)&&this.curList.push(1)},checkSizes(){for(let t=0;t<this.curList.length;t++){let e=this.locked.hiddenMax||1/0;0==t&&(e=this.locked.inputMax||1/0),t==this.curList.length-1&&(e=this.locked.outputMax||1/0),this.curList[t]>e&&(this.curList[t]=e),this.curList[t]<1&&(this.curList[t]=1)}}}});const le=(0,_t.Z)(oe,[["render",ae],["__scopeId","data-v-2880ccdb"]]);var de=le;const ce=t=>((0,s.dD)("data-v-72617074"),t=t(),(0,s.Cn)(),t),pe={id:"io-container"},he={id:"io-inputs"},ge=ce((()=>(0,s._)("p",null,"Inputs:",-1))),me=ce((()=>(0,s._)("div",{id:"io-in-top-spacer"},null,-1))),fe=ce((()=>(0,s._)("tr",null,[(0,s._)("td",null,"Index"),(0,s._)("td",null,"Input")],-1))),be={class:"io-index"},ze=["onClick"],we=ce((()=>(0,s._)("td",{colspan:"1"},"As number:",-1))),ve=ce((()=>(0,s._)("div",{id:"io-in-bottom-spacer"},null,-1))),_e={id:"io-outputs"},De=ce((()=>(0,s._)("p",null,"Outputs:",-1))),ye=ce((()=>(0,s._)("div",{id:"io-out-top-spacer"},null,-1))),xe=ce((()=>(0,s._)("tr",null,[(0,s._)("td",null,"Index"),(0,s._)("td",{colspan:"3"},"Output")],-1))),ke={class:"io-index"},Te=ce((()=>(0,s._)("td",null,"≈",-1))),Se=ce((()=>(0,s._)("td",{colspan:"3"},"As number:",-1))),Le=ce((()=>(0,s._)("div",{id:"io-out-bottom-spacer"},null,-1)));function Oe(t,e,n,i,u,r){return(0,s.wg)(),(0,s.iD)("div",pe,[(0,s._)("div",he,[ge,me,(0,s._)("table",null,[fe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.inputs.length,((e,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:"input-row"},[(0,s._)("td",be,(0,o.zw)(n),1),(0,s._)("td",null,[(0,s._)("button",{onClick:e=>t.toggleInput(n)},(0,o.zw)(t.inputs[n]),9,ze)])])))),128)),(0,s._)("tr",null,[we,(0,s._)("td",null,(0,o.zw)(t.binListToNum(t.inputs)),1)])]),ve]),(0,s._)("div",_e,[De,ye,(0,s._)("table",null,[xe,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.outputs,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"output-row"},[(0,s._)("td",ke,(0,o.zw)(e),1),(0,s._)("td",null,(0,o.zw)(t.toFixed(2)),1),Te,(0,s._)("td",null,(0,o.zw)(t.toFixed(0)),1)])))),128)),(0,s._)("tr",null,[Se,(0,s._)("td",null,(0,o.zw)(t.binListToNum(t.outputs.map((t=>Number(t.toFixed(0)))))),1)])]),Le])])}var Ne=(0,s.aZ)({name:"GateTrainData",props:["inputs","outputs"],data(){return{}},emits:["update:inputs"],watch:{},methods:{toggleInput(t){this.$emit("update:inputs",[...this.inputs].map(((e,n)=>n==t?1^e:e)))},binListToNum(t){return E(t)}}});const Ce=(0,_t.Z)(Ne,[["render",Oe],["__scopeId","data-v-72617074"]]);var Me=Ce;const Ve=[{name:"Wire",inputSize:1,outputSize:1,data:[{inputs:[0],expectedOutputs:[0]},{inputs:[1],expectedOutputs:[1]}]},{name:"NOT (inverter)",inputSize:1,outputSize:1,data:[{inputs:[0],expectedOutputs:[1]},{inputs:[1],expectedOutputs:[0]}]},{name:"AND",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[0]},{inputs:[0,1],expectedOutputs:[0]},{inputs:[1,0],expectedOutputs:[0]},{inputs:[1,1],expectedOutputs:[1]}]},{name:"NAND",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[1]},{inputs:[0,1],expectedOutputs:[1]},{inputs:[1,0],expectedOutputs:[1]},{inputs:[1,1],expectedOutputs:[0]}]},{name:"OR",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[0]},{inputs:[0,1],expectedOutputs:[1]},{inputs:[1,0],expectedOutputs:[1]},{inputs:[1,1],expectedOutputs:[1]}]},{name:"NOR",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[1]},{inputs:[0,1],expectedOutputs:[0]},{inputs:[1,0],expectedOutputs:[0]},{inputs:[1,1],expectedOutputs:[0]}]},{name:"XOR",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[0]},{inputs:[0,1],expectedOutputs:[1]},{inputs:[1,0],expectedOutputs:[1]},{inputs:[1,1],expectedOutputs:[0]}]},{name:"XNOR",inputSize:2,outputSize:1,data:[{inputs:[0,0],expectedOutputs:[1]},{inputs:[0,1],expectedOutputs:[0]},{inputs:[1,0],expectedOutputs:[0]},{inputs:[1,1],expectedOutputs:[1]}]},{name:"Half Adder (Carry, Sum)",inputSize:2,outputSize:2,data:[{inputs:[0,0],expectedOutputs:[0,0]},{inputs:[0,1],expectedOutputs:[0,1]},{inputs:[1,0],expectedOutputs:[0,1]},{inputs:[1,1],expectedOutputs:[1,0]}]},{name:"Full Adder (Carry, Sum)",inputSize:3,outputSize:2,data:[{inputs:Z(0,3),expectedOutputs:[0,0]},{inputs:Z(1,3),expectedOutputs:[0,1]},{inputs:Z(2,3),expectedOutputs:[0,1]},{inputs:Z(3,3),expectedOutputs:[1,0]},{inputs:Z(4,3),expectedOutputs:[0,1]},{inputs:Z(5,3),expectedOutputs:[1,0]},{inputs:Z(6,3),expectedOutputs:[1,0]},{inputs:Z(7,3),expectedOutputs:[1,1]}]},{name:"Prime Numbers",inputSize:8,outputSize:1,data:Array.from(Array(256).keys()).map((t=>{const e=t=>{for(let e=2,n=Math.sqrt(t);e<=n;e++)if(t%e===0)return!1;return t>1};return{inputs:Z(t,8),expectedOutputs:[e(t)?1:0]}}))},{name:"Randomized",inputSize:8,outputSize:8,data:Array.from(Array(256).keys()).map((t=>({inputs:Z(t,8),expectedOutputs:Z(256*Math.random(),8)})))}],Ie={id:"prog-outer"},Ae=(0,s.Uk)(" Progress: "),$e={id:"progress-stats"},Fe={id:"bar-cont"};function He(t,e,n,i,u,r){return(0,s.wg)(),(0,s.iD)("div",Ie,[(0,s._)("div",null,[Ae,(0,s._)("div",$e,[(0,s._)("div",null,(0,o.zw)((100*t.level).toFixed(2))+"%",1),(0,s._)("div",null,(0,o.zw)(t.numerator)+" / "+(0,o.zw)(t.denominator),1),(0,s._)("div",null,(0,o.zw)(t.formatTime(t.toComplete)),1)])]),(0,s._)("div",Fe,[(0,s._)("div",{id:"bar",style:(0,o.j5)({width:100*t.level+"%"})},null,4)])])}function Ze(t){t=Math.round(t);let e=t%1e3+"ms";return t>1e3&&(e=`${Math.floor(t/1e3%60)}s ${e}`),t>6e4&&(e=`${Math.floor(t/1e3/60%60)}m ${e}`),t>36e5&&(e=`${Math.floor(t/1e3/60/60%24)}h ${e}`),t>864e5&&(e=`${Math.floor(t/1e3/60/60/24)}d ${e}`),e}var Ee=(0,s.aZ)({name:"ProgressBar",props:{numerator:Number,denominator:Number,currentlyTraining:Boolean},computed:{level(){return(this.numerator||0)/(this.denominator||1)}},data(){return{lastUpdate:0,numAtLastUpdate:0,toComplete:0,intervalID:-1}},watch:{currentlyTraining:{handler(t){t||clearInterval(this.intervalID)}},numerator:{handler(t,e){0==e?(this.intervalID=setInterval((()=>{const t=Date.now(),e=t-this.lastUpdate,n=((this.numerator||0)-this.numAtLastUpdate)/e;this.toComplete=((this.denominator||1)-(this.numerator||0))/n,this.numAtLastUpdate=this.numerator||0,this.lastUpdate=t}),1e3),this.lastUpdate=Date.now(),this.numAtLastUpdate=0):t==this.denominator&&(clearInterval(this.intervalID),this.toComplete=0)}}},methods:{formatTime(t){return Ze(t)}}});const Pe=(0,_t.Z)(Ee,[["render",He],["__scopeId","data-v-b112b680"]]);var Ke=Pe;const Ye={key:0},Re=["colspan"],Ue=["colspan"],We={class:"input-index"},Be=["colspan"];function je(t,e,n,i,u,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.tTEnabled=!t.tTEnabled)},(0,o.zw)(t.tTEnabled?"Hide":"Show")+" table ",1),t.tTEnabled?((0,s.wg)(),(0,s.iD)("table",Ye,[(0,s._)("tr",null,[(0,s._)("td",{colspan:t.net.sizes[0]+1},"Inputs",8,Re),(0,s._)("td",{colspan:t.net.sizes[t.net.sizes.length-1]+1,class:"left-border"}," Output ",8,Ue)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(2**t.net.sizes[0],((e,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:"data-row"},[(0,s._)("td",We,(0,o.zw)(n),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.numToBinList(n,t.net.sizes[0]),(t=>((0,s.wg)(),(0,s.iD)("td",{key:t,class:"input-digit"},(0,o.zw)(t),1)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.net.sizes[t.net.sizes.length-1],((e,i)=>((0,s.wg)(),(0,s.iD)("td",{key:i,class:(0,o.C_)(["output-digit",{"left-border":0==i,good:!t.trainMatrix[n]||Math.round(t.outputs[n][i])==t.trainMatrix[n][i],bad:!!t.trainMatrix[n]&&Math.round(t.outputs[n][i])!=t.trainMatrix[n][i]}])},(0,o.zw)(t.outputs[n][i].toFixed(0)),3)))),128)),(0,s._)("td",{class:(0,o.C_)(["output-number",{good:!t.trainMatrix[n]||t.binListToNum(t.outputs[n].map((t=>Math.round(t))))==t.binListToNum(t.trainMatrix[n]),bad:!!t.trainMatrix[n]&&t.binListToNum(t.outputs[n].map((t=>Math.round(t))))!=t.binListToNum(t.trainMatrix[n])}])},(0,o.zw)(t.binListToNum(t.outputs[n].map((t=>t.toFixed(0))))),3)])))),128)),(0,s._)("tr",null,[(0,s._)("td",{colspan:t.net.sizes[0]+1},"Train Accuracies:",8,Be),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.net.sizes[t.net.sizes.length-1],((e,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n},[(0,s._)("small",null,(0,o.zw)((100*t.getColumnAccuracy(n)).toFixed(0)),1)])))),128)),(0,s._)("td",null,[(0,s._)("small",null,(0,o.zw)((100*t.getTotalAccuracy()).toFixed(0)),1)])])])):(0,s.kq)("",!0)])}var qe=(0,s.aZ)({name:"TestTruthTable",props:["net","trainData"],data(){return{tTEnabled:!0}},computed:{outputs(){return Array.from(Array(2**this.net.sizes[0]).keys()).map((t=>j(Z(t,this.net.sizes[0]),this.net)["activations"][this.net.sizes.length-1]))},trainMatrix(){const t=Array(2**this.net.sizes[0]);for(const e of this.trainData)t[E(e.inputs)]=e.expectedOutputs;return t}},methods:{numToBinList(t,e){return Z(t,e)},feed(t){return j(Z(t,this.net.sizes[0]),this.net)["activations"][this.net.sizes.length-1]},binListToNum(t){return E(t)},getColumnAccuracy(t){const e=this.outputs.map((e=>e[t])),n=this.trainMatrix.map((e=>e[t])),i=[];for(let u=0;u<e.length;u++)null==n[u]?i[u]=1:i[u]=Math.round(e[u])==n[u]?1:0;const s=i.reduce(((t,e)=>t+e),0)/i.length;return s},getTotalAccuracy(){if(!this.trainMatrix||0==this.trainMatrix.length)return 1;const t=function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},e=this.outputs.map(((e,n)=>null!=this.trainMatrix[n]?t(e.map((t=>Math.round(t))),this.trainMatrix[n])?1:0:1)),n=e.reduce(((t,e)=>t+e),0)/e.length;return n}}});const Ge=(0,_t.Z)(qe,[["render",je],["__scopeId","data-v-88fc2c98"]]);var Je=Ge,Xe=(0,s.aZ)({name:"GateDisplay",components:{GateTrainData:yt,NetVisualizer:Qt,SizeSelector:de,GateIO:Me,ProgressBar:Ke,TestTruthTable:Je},data(){return{examples:Ve,netSizes:[2,2,1],net:new X,inputs:[],mostRecentResult:[],trainData:[],curPreset:-1,currentlyTraining:!1,epochs:1e4,progressNum:0,progressDenom:1}},watch:{trainData:{deep:!0,handler(){this.curPreset=Ve.findIndex((t=>JSON.stringify(t.data)===JSON.stringify(this.trainData)))}},netSizes:{deep:!0,handler(){this.newNet()}},inputs:{deep:!0,handler(){this.reFeed()}}},methods:{toggleInput(t){this.inputs[t]=this.inputs[t]?0:1,this.reFeed()},reFeed(){const t=j(this.inputs,this.net)["activations"];this.mostRecentResult=t[t.length-1]},getHottest(t){return $(t)},trainWithData(t){this.trainData.length<1||(this.currentlyTraining=!0,this.progressDenom=t,this.progressNum=0,setTimeout((()=>K(t,20,{},((t,e)=>{this.currentlyTraining?(G(this.trainData,this.net),this.progressNum=t+1,this.reFeed(),this.updateNetVizVals()):e["break"]=!0}),(()=>{this.currentlyTraining=!1}))),0))},newNet(){this.net=new X(this.netSizes),this.inputs=new Array(this.net.sizes[0]).fill(0),this.newNetViz()},newNetViz(){this.$refs["netViz"].newNet(this.net)},updateNetVizVals(){this.$refs["netViz"].updateNetVals(this.net)},newPreset(t){-1!=Number(t.target.value)&&this.$refs["gateTrainData"].setCurList(Ve[Number(t.target.value)].data)}},mounted(){this.newNet(),this.reFeed()}});const Qe=(0,_t.Z)(Xe,[["render",A],["__scopeId","data-v-0dd2982d"]]);var tn=Qe,en=(0,s.aZ)({name:"App",components:{GateDisplay:tn},data(){return{}},methods:{}});const nn=(0,_t.Z)(en,[["render",a]]);var sn=nn,un=n(65),rn=(0,un.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.ri)(sn).use(rn).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var u=e[i]={exports:{}};return t[i].call(u.exports,u,u.exports,n),u.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,u){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],u=t[d][2];for(var a=!0,o=0;o<i.length;o++)(!1&u||r>=u)&&Object.keys(n.O).every((function(t){return n.O[t](i[o])}))?i.splice(o--,1):(a=!1,u<r&&(r=u));if(a){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}u=u||0;for(var d=t.length;d>0&&t[d-1][2]>u;d--)t[d]=t[d-1];t[d]=[i,s,u]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,u,r=i[0],a=i[1],o=i[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(o)var d=o(n)}for(e&&e(i);l<r.length;l++)u=r[l],n.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return n.O(d)},i=self["webpackChunkneural_playground"]=self["webpackChunkneural_playground"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8151)}));i=n.O(i)})();
//# sourceMappingURL=app.1112b6d3.js.map